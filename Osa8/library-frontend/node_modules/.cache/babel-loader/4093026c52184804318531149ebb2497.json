{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Nicholas/Programming/Fullstack/fullstack/osa8/library-frontend/src/components/Authors.js\";\nimport React, { useState } from 'react';\nimport { gql, useMutation } from '@apollo/client';\nconst CHANGE_BORN = gql`\n  mutation changeBorn($name: String!, $born: Int!) {\n    editAuthor(\n      name: $name,\n      setBornTo: $born,\n    ) {\n      name\n      born\n    }\n  }\n`;\n\nconst Authors = props => {\n  const [name, setName] = useState('');\n  const [born, setBornTo] = useState('');\n  const [changeBorn] = useMutation(CHANGE_BORN);\n\n  const submit = async () => {\n    changeBorn({\n      variables: {\n        name,\n        born\n      }\n    });\n    console.log('add book...');\n    setName('');\n    setBornTo('');\n  };\n\n  if (!props.show) {\n    return null;\n  }\n\n  const authors = props.authors;\n  console.log(authors, 'authors in Authors.js');\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"authors\"), React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"born\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"books\")), authors.map(a => React.createElement(\"tr\", {\n    key: a.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, a.name), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, a.born), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, a.bookCount))))), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Set birthyear\"), React.createElement(\"form\", {\n    onSubmit: submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"name\", React.createElement(\"input\", {\n    value: name,\n    onChange: ({\n      target\n    }) => setName(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"born\", React.createElement(\"input\", {\n    value: born,\n    onChange: ({\n      target\n    }) => setBornTo(Number(target.value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"update author\")));\n};\n\nexport default Authors;","map":{"version":3,"sources":["/mnt/c/Nicholas/Programming/Fullstack/fullstack/osa8/library-frontend/src/components/Authors.js"],"names":["React","useState","gql","useMutation","CHANGE_BORN","Authors","props","name","setName","born","setBornTo","changeBorn","submit","variables","console","log","show","authors","map","a","bookCount","target","value","Number"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,GAAT,EAAcC,WAAd,QAAiC,gBAAjC;AAEA,MAAMC,WAAW,GAAGF,GAAI;;;;;;;;;;CAAxB;;AAYA,MAAMG,OAAO,GAAIC,KAAD,IAAW;AACzB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,IAAD,EAAOC,SAAP,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAM,CAAEU,UAAF,IAAiBR,WAAW,CAACC,WAAD,CAAlC;;AAEA,QAAMQ,MAAM,GAAG,YAAY;AACzBD,IAAAA,UAAU,CAAC;AAAGE,MAAAA,SAAS,EAAE;AAAEN,QAAAA,IAAF;AAAQE,QAAAA;AAAR;AAAd,KAAD,CAAV;AAEAK,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AAEAP,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAE,IAAAA,SAAS,CAAC,EAAD,CAAT;AACD,GAPD;;AASA,MAAI,CAACJ,KAAK,CAACU,IAAX,EAAiB;AACf,WAAO,IAAP;AACD;;AAED,QAAMC,OAAO,GAAGX,KAAK,CAACW,OAAtB;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAYE,OAAZ,EAAqB,uBAArB;AAEA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALF,CADF,EAUGA,OAAO,CAACC,GAAR,CAAYC,CAAC,IACZ;AAAI,IAAA,GAAG,EAAEA,CAAC,CAACZ,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKY,CAAC,CAACZ,IAAP,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKY,CAAC,CAACV,IAAP,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKU,CAAC,CAACC,SAAP,CAHF,CADD,CAVH,CADF,CAFF,EAsBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAtBF,EAuBE;AAAM,IAAA,QAAQ,EAAER,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEE;AACE,IAAA,KAAK,EAAEL,IADT;AAEE,IAAA,QAAQ,EAAE,CAAC;AAAEc,MAAAA;AAAF,KAAD,KAAgBb,OAAO,CAACa,MAAM,CAACC,KAAR,CAFnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEE;AACE,IAAA,KAAK,EAAEb,IADT;AAEE,IAAA,QAAQ,EAAE,CAAC;AAAEY,MAAAA;AAAF,KAAD,KAAgBX,SAAS,CAACa,MAAM,CAACF,MAAM,CAACC,KAAR,CAAP,CAFrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CARF,EAeE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAfF,CAvBF,CADF;AA2CD,CAjED;;AAmEA,eAAejB,OAAf","sourcesContent":["import React, { useState } from 'react'\nimport { gql, useMutation } from '@apollo/client'\n\nconst CHANGE_BORN = gql`\n  mutation changeBorn($name: String!, $born: Int!) {\n    editAuthor(\n      name: $name,\n      setBornTo: $born,\n    ) {\n      name\n      born\n    }\n  }\n`\n\nconst Authors = (props) => {\n  const [name, setName] = useState('')\n  const [born, setBornTo] = useState('')\n\n  const [ changeBorn ] = useMutation(CHANGE_BORN)\n\n  const submit = async () => {\n    changeBorn({  variables: { name, born } })\n\n    console.log('add book...')\n\n    setName('')\n    setBornTo('')\n  }\n\n  if (!props.show) {\n    return null\n  }\n  \n  const authors = props.authors\n  console.log(authors, 'authors in Authors.js')\n\n  return (\n    <div>\n      <h2>authors</h2>\n      <table>\n        <tbody>\n          <tr>\n            <th></th>\n            <th>\n              born\n            </th>\n            <th>\n              books\n            </th>\n          </tr>\n          {authors.map(a =>\n            <tr key={a.name}>\n              <td>{a.name}</td>\n              <td>{a.born}</td>\n              <td>{a.bookCount}</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n      <h3>Set birthyear</h3>\n      <form onSubmit={submit}>\n        <div>\n          name\n          <input\n            value={name}\n            onChange={({ target }) => setName(target.value)}\n          />\n        </div>\n        <div>\n          born\n          <input\n            value={born}\n            onChange={({ target }) => setBornTo(Number(target.value))}\n          />\n        </div>\n        <button type='submit'>update author</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Authors\n"]},"metadata":{},"sourceType":"module"}