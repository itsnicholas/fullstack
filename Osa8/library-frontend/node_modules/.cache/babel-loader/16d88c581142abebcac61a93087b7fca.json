{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Nicholas/Programming/Fullstack/fullstack/osa8/library-frontend/src/components/Books.js\";\nimport React from 'react'; //import React, { useState, useEffect } from 'react'\n//import { useQuery } from '@apollo/client'\n//import { ALL_BOOKS } from './../queries'\n\nconst Books = props => {\n  //const allBooks = useQuery(ALL_BOOKS)\n  //const [books, setBooks] = useState([])\n  let books = [{\n    title: 'Clean Code',\n    published: 2008,\n    author: 'Robert Martin',\n    id: \"afa5b6f4-344d-11e9-a414-719c6709cf3e\",\n    genres: ['refactoring']\n  }, {\n    title: 'Agile software development',\n    published: 2002,\n    author: 'Robert Martin',\n    id: \"afa5b6f5-344d-11e9-a414-719c6709cf3e\",\n    genres: ['agile', 'patterns', 'design']\n  }, {\n    title: 'Refactoring, edition 2',\n    published: 2018,\n    author: 'Martin Fowler',\n    id: \"afa5de00-344d-11e9-a414-719c6709cf3e\",\n    genres: ['refactoring']\n  }, {\n    title: 'Refactoring to patterns',\n    published: 2008,\n    author: 'Joshua Kerievsky',\n    id: \"afa5de01-344d-11e9-a414-719c6709cf3e\",\n    genres: ['refactoring', 'patterns']\n  }, {\n    title: 'Practical Object-Oriented Design, An Agile Primer Using Ruby',\n    published: 2012,\n    author: 'Sandi Metz',\n    id: \"afa5de02-344d-11e9-a414-719c6709cf3e\",\n    genres: ['refactoring', 'design']\n  }, {\n    title: 'Crime and punishment',\n    published: 1866,\n    author: 'Fyodor Dostoevsky',\n    id: \"afa5de03-344d-11e9-a414-719c6709cf3e\",\n    genres: ['classic', 'crime']\n  }, {\n    title: 'The Demon ',\n    published: 1872,\n    author: 'Fyodor Dostoevsky',\n    id: \"afa5de04-344d-11e9-a414-719c6709cf3e\",\n    genres: ['classic', 'revolution']\n  }]; //console.log('books in allGenres', books)\n\n  const booksGenres = books.map(book => book.genres).reduce((pre, cur) => pre.concat(cur));\n  console.log('booksGenres in allGenres', booksGenres);\n  const genres = [...new Set(booksGenres)];\n  console.log('genres in allGenres', genres); //useEffect(() => {\n  //  if (allBooks.data) {\n  //    console.log(allBooks.data.allAuthors, 'allBooks.data.allAuthors in App.js')\n  //    setBooks(allBooks.data.allBooks)\n  //  }\n  //}, [allBooks])\n  //if (allBooks.loading)  {\n  //  return <div>loading...</div>\n  //}\n\n  if (!props.show) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"books\"), React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"author\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"published\")), books.map(a => React.createElement(\"tr\", {\n    key: a.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, a.title), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, a.author.name), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, a.published))))), genres.map(a => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, a)));\n};\n\nexport default Books;","map":{"version":3,"sources":["/mnt/c/Nicholas/Programming/Fullstack/fullstack/osa8/library-frontend/src/components/Books.js"],"names":["React","Books","props","books","title","published","author","id","genres","booksGenres","map","book","reduce","pre","cur","concat","console","log","Set","show","a","name"],"mappings":"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","sourcesContent":["import React from 'react'\n//import React, { useState, useEffect } from 'react'\n//import { useQuery } from '@apollo/client'\n//import { ALL_BOOKS } from './../queries'\n\nconst Books = (props) => {\n  //const allBooks = useQuery(ALL_BOOKS)\n  //const [books, setBooks] = useState([])\n\n  let books = [\n    {\n      title: 'Clean Code',\n      published: 2008,\n      author: 'Robert Martin',\n      id: \"afa5b6f4-344d-11e9-a414-719c6709cf3e\",\n      genres: ['refactoring']\n    },\n    {\n      title: 'Agile software development',\n      published: 2002,\n      author: 'Robert Martin',\n      id: \"afa5b6f5-344d-11e9-a414-719c6709cf3e\",\n      genres: ['agile', 'patterns', 'design']\n    },\n    {\n      title: 'Refactoring, edition 2',\n      published: 2018,\n      author: 'Martin Fowler',\n      id: \"afa5de00-344d-11e9-a414-719c6709cf3e\",\n      genres: ['refactoring']\n    },\n    {\n      title: 'Refactoring to patterns',\n      published: 2008,\n      author: 'Joshua Kerievsky',\n      id: \"afa5de01-344d-11e9-a414-719c6709cf3e\",\n      genres: ['refactoring', 'patterns']\n    },  \n    {\n      title: 'Practical Object-Oriented Design, An Agile Primer Using Ruby',\n      published: 2012,\n      author: 'Sandi Metz',\n      id: \"afa5de02-344d-11e9-a414-719c6709cf3e\",\n      genres: ['refactoring', 'design']\n    },\n    {\n      title: 'Crime and punishment',\n      published: 1866,\n      author: 'Fyodor Dostoevsky',\n      id: \"afa5de03-344d-11e9-a414-719c6709cf3e\",\n      genres: ['classic', 'crime']\n    },\n    {\n      title: 'The Demon ',\n      published: 1872,\n      author: 'Fyodor Dostoevsky',\n      id: \"afa5de04-344d-11e9-a414-719c6709cf3e\",\n      genres: ['classic', 'revolution']\n    },\n  ]\n\n  //console.log('books in allGenres', books)\n  const booksGenres = books.map((book) => book.genres)\n  .reduce((pre, cur) => pre.concat(cur))\n  console.log('booksGenres in allGenres', booksGenres)\n  const genres = [...new Set(booksGenres)]\n  console.log('genres in allGenres', genres)\n\n  //useEffect(() => {\n  //  if (allBooks.data) {\n  //    console.log(allBooks.data.allAuthors, 'allBooks.data.allAuthors in App.js')\n  //    setBooks(allBooks.data.allBooks)\n  //  }\n  //}, [allBooks])\n\n  //if (allBooks.loading)  {\n  //  return <div>loading...</div>\n  //}\n\n  if (!props.show) {\n    return null\n  }\n\n  return (\n    <div>\n      <h2>books</h2>\n\n      <table>\n        <tbody>\n          <tr>\n            <th></th>\n            <th>\n              author\n            </th>\n            <th>\n              published\n            </th>\n          </tr>\n          {books.map(a =>\n            <tr key={a.title}>\n              <td>{a.title}</td>\n              <td>{a.author.name}</td>\n              <td>{a.published}</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n      {genres.map(a =>\n        <div>{a}</div>\n      )}\n    </div>\n  )\n}\n\nexport default Books"]},"metadata":{},"sourceType":"module"}